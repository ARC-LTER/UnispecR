typeof(data_2016$Spectra[[1]])
data_2016$Spectra[1]
data_2016$Spectra[1] %>% typeof()
data_2016$Spectra[[1]] %>% typeof()
data_2016$Spectra[[1]
]
data_2016$Spectra[[1]][1]
data_2016$Spectra[[1]]
data_2016$Spectra[[1]] %>% typeof()
data_2016$Spectra[[1]] %>% tibble()
df_2016 <-  data_2016 %>%
mutate(Spectra = map(Spectra, function(x) tibble(x)))
tibble(data_2016$Spectra[[1]])
tibble(data_2016$Spectra[1])
unlist(data_2016$Spectra[1])
tibble(data_2016$Spectra[1])
unnest(data_2016$Spectra[1])
tibble(data_2016$Spectra[1])
tibble(data_2016$Spectra[1][1])
tibble(data_2016$Spectra[1][[1]])
df_2016 <-  data_2016 %>%
mutate(Spectra = map(Spectra, function(x) tibble(x[[1]])))
df_2016 <-  data_2016 %>%
mutate(Spectra_unnest = map(Spectra, tibble))
rlang::last_error()
rlang::last_trace()
tibble:::check_valid_cols()
?tibble:::check_valid_cols()
??tibble:::check_valid_cols()
tidy_2016 <- df_2016 %>%
select(-Spectra) %>%
## Order columns
select(DateTime, Date, Site, Block, Treatment, Replicate, FileNum, Type, Spu_filename, Multispec_filename, int, Temp, Weather, Notes, everything())  %>%
## Nest Indices as list
nest('NDVI(MODIS)':'ChlIndex', .key=Index) %>%
inner_join(df_2016 %>% select(Date, Site, Block, Treatment, Replicate, Spu_filename, FileNum, Type, Multispec_filename, Spectra)) %>%
mutate(Indices = map(Index, function(x) shape_up(x))) %>%
select(-Index)
tidy_2016 <- data_2016 %>%
select(-Spectra) %>%
## Order columns
select(DateTime, Date, Site, Block, Treatment, Replicate, FileNum, Type, Spu_filename, Multispec_filename, int, Temp, Weather, Notes, everything())  %>%
## Nest Indices as list
nest('NDVI(MODIS)':'ChlIndex', .key=Index) %>%
inner_join(df_2016 %>% select(Date, Site, Block, Treatment, Replicate, Spu_filename, FileNum, Type, Multispec_filename, Spectra)) %>%
mutate(Indices = map(Index, function(x) shape_up(x))) %>%
select(-Index)
data_2016 <- unispec_data_2016 %>%
## Condense columns
rename(Site = Site.x) %>%
rename(FileNum = FileNum.x) %>%  # FileNum.x == FileNum.y for all rows
select(-Site.y, -FileNum.y) %>%  # Site.x == Site.y for all rows
## Remove columns
select(-Research_location, -Time) %>% #Research_location is always Toolik; Time has issues (is only a number?)
select(-c(ChAmax, ChBmax, Number_ChAmax, ReflecMean, ReflecSERR)) %>%  # not necessary, calculated later using Markdown processing
select(-c(key_num.x, key_num.y, key)) %>%
select(-c(Spufilename.y, Spufilename.x)) %>%
## Rename columns
rename(Replicate = REP) %>%
rename(int = Integration_ms) %>%
rename(Notes = Remarks) %>%
rename(Multispec_filename = Process_file) %>%
## Remove rows
filter(!Type %in% c("Throwawayscan", "Darkscan"))
data_2016
tidy_2016 <- data_2016 %>%
select(-Spectra) %>%
## Order columns
select(DateTime, Date, Site, Block, Treatment, Replicate, FileNum, Type, Spu_filename, Multispec_filename, int, Temp, Weather, Notes, everything())  %>%
## Nest Indices as list
nest('NDVI(MODIS)':'ChlIndex', .key=Index) %>%
inner_join(data_2016 %>% select(Date, Site, Block, Treatment, Replicate, Spu_filename, FileNum, Type, Multispec_filename, Spectra)) %>%
mutate(Indices = map(Index, function(x) shape_up(x))) %>%
select(-Index)
tidy_2016$Indices %>% head()
data_2016 %>% select(Spectra) %>% head()
data_2016 %>% select(Index) %>% head()
test <- data_2016$Spectra %>% tibble()
test
test <- data_2016$Spectra %>% map(Spectra, function(x) tibble(x))
test <- data_2016$Spectra %>% map(., function(x) tibble(x))
test()
test
test[1]
test[[1]]
test <- df_2016 %>% select(Spectra)
test <- data_2016 %>% select(Spectra)
test
test[1]
test[2]
test[[1]]
test <- data_2016$Spectra[[1]]
head(test)
tail(test)
data_2016 %>% select(Spectra)
data_2016 %>% select(Spectra) %>% first()
?first()
df_2016 <-  data_2016 %>%
mutate(Spectra_unnest = map(Spectra %>% first(), tibble))
df_2016 %>% select(Spectra) %>% first() %>% tibble() %>% head()
data_2016 %>% select(Spectra) %>% first() %>% tibble() %>% head()
data_2016 %>% select(Spectra) %>% first() %>% tibble() %>% head() %>% unnest()
data_2016 %>% select(Spectra) %>% first() %>% tibble() %>% unnest()
data_2016 %>% select(Spectra) %>% first() %>% tibble() %>% unnest()
data_2016 %>% select(Spectra) %>% first() %>% tibble()
data_2016 %>% select(Spectra) %>% first()
data_2016 %>% select(Spectra) %>% first() %>% first()
data_2016 %>% select(Spectra) %>% first() %>% first() %>% typeof()
data_2016 %>% select(Spectra) %>% first() %>% first() %>% tibble()
unnest_spectra <- function(x) x %>% first() %>% first() %>% tibble()
unnest_spectra(data_2016$Spectra)
unnest_spectra(data_2016$Spectra[[1]])
unnest_spectra(data_2016$Spectra[1]]
unnest_spectra(data_2016$Spectra[1])
df_2016 <-  data_2016 %>%
mutate(Spectra_unnest = map(Spectra, unnest_spectra))
kable(df_table)
data_2016 <- unispec_data_2016 %>%
## Condense columns
rename(Site = Site.x) %>%
rename(FileNum = FileNum.x) %>%  # FileNum.x == FileNum.y for all rows
select(-Site.y, -FileNum.y) %>%  # Site.x == Site.y for all rows
## Remove columns
select(-Research_location, -Time) %>% #Research_location is always Toolik; Time has issues (is only a number?)
select(-c(ReflecMean, ReflecSERR)) %>%  # not necessary, calculated later using Markdown processing
select(-c(key_num.x, key_num.y, key)) %>%
select(-c(Spufilename.y, Spufilename.x)) %>%
## Rename columns
rename(Replicate = REP) %>%
rename(int = Integration_ms) %>%
rename(Notes = Remarks) %>%
rename(Multispec_filename = Process_file) %>%
## Remove rows
filter(!Type %in% c("Throwawayscan", "Darkscan"))
data_2016 %>% names()
data_2016 %>% select(ChAmax, ChBmax, Number_ChAmax)
data_2016 %>% filter(Number_ChAmax > 0)
data_2016 %>% filter(Number_ChAmax > 0) %>% select(Type)
data_2016 <- unispec_data_2016 %>%
## Condense columns
rename(Site = Site.x) %>%
rename(FileNum = FileNum.x) %>%  # FileNum.x == FileNum.y for all rows
select(-Site.y, -FileNum.y) %>%  # Site.x == Site.y for all rows
## Remove columns
select(-Research_location, -Time) %>% #Research_location is always Toolik; Time has issues (is only a number?)
select(-c(ReflecMean, ReflecSERR)) %>%  # not necessary, calculated later using Markdown processing
select(-c(key_num.x, key_num.y, key)) %>%
select(-c(Spufilename.y, Spufilename.x)) %>%
## Rename columns
rename(Replicate = REP) %>%
rename(int = Integration_ms) %>%
rename(Notes = Remarks) %>%
rename(Multispec_filename = Process_file) %>%
## Remove rows
filter(!Type %in% c("Throwawayscan", "Darkscan", "not_in_process_file"))
data_2016 %>% filter(Number_ChAmax > 0) %>% select(Type)
ndvi_2016 <- data_2016 %>%
rename(NDVI = 'NDVI(MODIS)') %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra))
#PLOT SUBSET -- SPECIFY SITE/DATE/ETC to ZOOM IN ON
check_dates <- df_table %>% select(Date) %>% pull()#ymd("2017-06-08", "2017-06-15", "2017-06-26")
check_sites <- c("MAT", "LMAT")
check_blocks <- c("B1", "B2", "B3", "B4")
check_trtmts <- c("NP", CT)
ndvi_plot <- ndvi_2016 %>%
group_by(Site, Block, Treatment, Date) %>%
summarise(
avg_ndvi = mean(NDVI),
sd_ndvi = sd(NDVI)
) %>%
group_by(Site,Treatment,Date) %>%
summarise(
avg_ndvi = mean(avg_ndvi),
sd_ndvi = sd(sd_ndvi)
)
ggplot(data = ndvi_plot, mapping = aes(x = Date, y = avg_ndvi, color=Treatment)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = avg_ndvi-sd_ndvi, ymax= avg_ndvi + sd_ndvi), width=2) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
warnings()
ndvi_2016
ndvi_2016 <- data_2016 %>%
mutate(NDVI = as.numeric('NDVI(MODIS)')) %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra))
ndvi_2016 %>% filter(is.na(NDVI))
ndvi_2016 <- data_2016 %>%
mutate(NDVI = as.numeric('NDVI(MODIS)')) %>% # select just NDVI
select(-c('NDVI(MODIS)':'ChlIndex', Spectra))
ndvi_2016 %>% filter(is.na(NDVI))
ndvi_2016 <- data_2016 %>%
select(-c(ChAmax, ChBmax, Number_ChAmax)) %>%
mutate(NDVI = as.numeric('NDVI(MODIS)')) %>% # select just NDVI
select(-c('NDVI(MODIS)':'ChlIndex', Spectra))
ndvi_2016
ndvi_2016 <- data_2016 %>%
select(-c(ChAmax, ChBmax, Number_ChAmax)) %>%
mutate(NDVI = as.numeric('NDVI(MODIS)')) %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra))
ndvi_2016
ndvi_2016$`NDVI(MODIS)`
ndvi_2016 <- data_2016 %>%
select(-c(ChAmax, ChBmax, Number_ChAmax)) %>%
transform(NDVI = as.numeric('NDVI(MODIS)')) %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra))
?transform()
ndvi_2016 <- data_2016 %>%
select(-c(ChAmax, ChBmax, Number_ChAmax)) %>%
transform(NDVI = as.numeric('NDVI(MODIS)')) %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra))
data_2016 %>% names()
ndvi_2016 <- data_2016 %>%
select(-c(ChAmax, ChBmax, Number_ChAmax)) %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra))
ndvi_2016
ndvi_2016 <- data_2016 %>%
select(-c(ChAmax, ChBmax, Number_ChAmax)) %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra)) %>%
rename(NDVI = 'NDVI(MODIS)')
ndvi_2016
ndvi_2016 <- data_2016 %>%
select(-c(ChAmax, ChBmax, Number_ChAmax)) %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra)) %>%
rename(NDVI = 'NDVI(MODIS)') %>%
transform(NDVI = as.numeric(NDVI))
ndvi_2016
ndvi_2016 %>% head()
ndvi_2016 <- data_2016 %>%
select(-c(ChAmax, ChBmax, Number_ChAmax)) %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra)) %>%
rename(NDVI = 'NDVI(MODIS)') %>%
mutate_at(NDVI = as.numeric(NDVI))
ndvi_2016 <- data_2016 %>%
select(-c(ChAmax, ChBmax, Number_ChAmax)) %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra)) %>%
rename(NDVI = 'NDVI(MODIS)') %>%
mutate(NDVI = as.numeric(NDVI))
ndvi_2016
ndvi_plot <- ndvi_2016 %>%
group_by(Site, Block, Treatment, Date) %>%
summarise(
avg_ndvi = mean(NDVI),
sd_ndvi = sd(NDVI)
) %>%
group_by(Site,Treatment,Date) %>%
summarise(
avg_ndvi = mean(avg_ndvi),
sd_ndvi = sd(sd_ndvi)
)
ggplot(data = ndvi_plot, mapping = aes(x = Date, y = avg_ndvi, color=Treatment)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = avg_ndvi-sd_ndvi, ymax= avg_ndvi + sd_ndvi), width=2) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ndvi_plot
tail(ndvi_plot)
ndvi_2016
ndvi_2016 %>% select(Type) %>% unique()
ndvi_2016 <- data_2016 %>%
select(-c(ChAmax, ChBmax, Number_ChAmax)) %>% # select just NDVI
select(-c('EVI(MODIS)':'ChlIndex', Spectra)) %>%
rename(NDVI = 'NDVI(MODIS)') %>%
mutate(NDVI = as.numeric(NDVI)) %>%
filter(!Type == "Reference_scan")
ndvi_2016 %>% select(Type) %>% unique()
ndvi_plot <- ndvi_2016 %>%
group_by(Site, Block, Treatment, Date) %>%
summarise(
avg_ndvi = mean(NDVI),
sd_ndvi = sd(NDVI)
) %>%
group_by(Site,Treatment,Date) %>%
summarise(
avg_ndvi = mean(avg_ndvi),
sd_ndvi = sd(sd_ndvi)
)
ggplot(data = ndvi_plot, mapping = aes(x = Date, y = avg_ndvi, color=Treatment)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = avg_ndvi-sd_ndvi, ymax= avg_ndvi + sd_ndvi), width=2) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ggplot(data = ndvi_plot, mapping = aes(x = Date, y = avg_ndvi, color=Treatment)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = avg_ndvi-sd_ndvi, ymax= avg_ndvi + sd_ndvi), width=2) +
facet_wrap(vars(Site))
check_trtmts <- c("NP", CT, "P", "N")
ndvi_plot <- ndvi_2016 %>%
filter(Treatment %in% check_trtmts) %>%
group_by(Site, Block, Treatment, Date) %>%
summarise(
avg_ndvi = mean(NDVI),
sd_ndvi = sd(NDVI)
) %>%
group_by(Site,Treatment,Date) %>%
summarise(
avg_ndvi = mean(avg_ndvi),
sd_ndvi = sd(sd_ndvi)
)
ggplot(data = ndvi_plot, mapping = aes(x = Date, y = avg_ndvi, color=Treatment)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = avg_ndvi-sd_ndvi, ymax= avg_ndvi + sd_ndvi), width=2) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
check_trtmts <- c("NP", CT, "P", "N", NP_gradient)
ndvi_plot <- ndvi_2016 %>%
filter(Treatment %in% check_trtmts) %>%
group_by(Site, Block, Treatment, Date) %>%
summarise(
avg_ndvi = mean(NDVI),
sd_ndvi = sd(NDVI)
) %>%
group_by(Site,Treatment,Date) %>%
summarise(
avg_ndvi = mean(avg_ndvi),
sd_ndvi = sd(sd_ndvi)
)
ggplot(data = ndvi_plot, mapping = aes(x = Date, y = avg_ndvi, color=Treatment)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = avg_ndvi-sd_ndvi, ymax= avg_ndvi + sd_ndvi), width=2) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ndvi_plot <- ndvi_2016 %>%
filter(Treatment %in% check_trtmts) %>%
group_by(Site, Block, Treatment, Date) %>%
summarise(
avg = mean(NDVI),
sd = sd(NDVI)
) %>%
group_by(Site,Treatment,Date) %>%
summarise(
avg_ndvi = mean(avg),
sd_ndvi = sd(sd)
)
ggplot(data = ndvi_plot, mapping = aes(x = Date, y = avg_ndvi, color=Treatment)) +
geom_point() +
geom_line() +
geom_errorbar(aes(ymin = avg_ndvi-sd_ndvi, ymax= avg_ndvi + sd_ndvi), width=2) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ggplot(data = ndvi_plot, mapping = aes(x = Date, y = avg_ndvi, color=Treatment)) +
geom_point() +
geom_line() +
geom_dotplot() +
geom_errorbar(aes(ymin = avg_ndvi-sd_ndvi, ymax= avg_ndvi + sd_ndvi), width=2) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ggplot(data = ndvi_plot, mapping = aes(x = Date, y = avg_ndvi, color=Treatment)) +
geom_point() +
geom_line() +
geom_dotplot(binaxis = "y") +
geom_errorbar(aes(ymin = avg_ndvi-sd_ndvi, ymax= avg_ndvi + sd_ndvi), width=2) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ggplot(data = ndvi_plot, mapping = aes(x = Date, y = avg_ndvi, color=Treatment, fill=Treatment)) +
geom_point() +
geom_line() +
geom_dotplot(binaxis = "y") +
geom_errorbar(aes(ymin = avg_ndvi-sd_ndvi, ymax= avg_ndvi + sd_ndvi), width=2) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ggplot(data = ndvi_2016, mapping = aes(x = Date, y = NDVI, color = Treatment)) +
geom_point() +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ndvi_data <- ndvi_2016 %>%
filter(Treatment %in% check_trtmts)
ggplot(data = ndvi_data, mapping = aes(x = Date, y = NDVI, color = Treatment)) +
geom_point() +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ggplot(data = ndvi_data, mapping = aes(x = Date, y = NDVI, color = Treatment)) +
geom_point() +
geom_smooth() +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ggplot(data = ndvi_data, mapping = aes(x = Date, y = NDVI, color = Treatment)) +
geom_point() +
geom_smooth(aes(fill=Treatment)) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
ggplot(data = ndvi_data, mapping = aes(x = Date, y = NDVI, color = Treatment)) +
geom_point() +
geom_smooth(aes(fill=Treatment)) +
facet_wrap(vars(Site)) +
scale_color_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5])) +
scale_fill_manual(values=c("CT" = "forestgreen", "CT1"="darkolivegreen2", "CT2"="darkolivegreen3",
"N" = "dodgerblue", "NO3" = "skyblue", "NH4" = "deepskyblue",
"P" = "red2",
"NP" = pur_pal[5],
"F0.5" = pur_pal[1],
"F1" = pur_pal[2],
"F2" = pur_pal[3],
"F5" = pur_pal[4],
"F10" = pur_pal[5]))
